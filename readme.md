# :muscle: Процессор :muscle:

Данный проект содержит в себе сразу три программы: ```ассемблер```, ```дизассемблер``` и ```процессор```. Ассемблер переводит пользовательский код в машинный и записывает его в бинарный файл. Дизассемблер работает, соответственно в обратную сторону. Процессор же, считывает байт код из бинарного файла и выполняет переданные ему инструкции, а после выводит результат в файл ```"result.txt"```.

## Установка программы

Для установки программы используются утилиты `make` и `git`.

    git clone git@github.com:EntryFrager/CPU.git
	cd ./cpu/
    make
    assembler.exe / disassembler.exe / spu.exe
    make clean

## Команды, выполняемые процессором

1. pop
2. push
3. call
4. ret
5. jmp (ja, jae, jb, jbe, je, jne, jfr)
6. outc
7. add
8. sub
9. mul
10. div
11. sqrt
12. sin
13. cos
14. in
15. draw
16. int

#### Математические операции в процессоре

Числа для математических операций в моем процессоре берутся из стека. Перед этим, предварительно необходимо "запушить" их в стек. Соответствующие операторы берут 2 значения, а другие 1. Числа автоматически "выпопливаются" из стека.

#### Ввод

Для ввода существует команда "in", которая считывает одно число с потока stdin.

#### Вывод

Для вывода, есть две команды.

1. out (Она берет число из стека, и выводит его)
2. outc (Данная команда принимает один аргумент - количество символов, необходимое вывести. Далее берет числа из стека и считая их ASCII кодами символов, выводит их в stdout)

## Debug

В ассемблере выполняется вывод в текстовый файл общей информации о введенных командах, для их проверки.
В таблице содержится информация о самой команде и ее аргументах.


|  NAME_CMD  |  CODE_CMD  |  HEX_SPEAK |  VALUE_ARG |  VALUE_REG |  VALUE_RAM |
|------------|------------|------------|------------|------------|------------|
|          in|          20|          14|           0|           0|           0|
|          in|          20|          14|           0|           0|           0|
|          in|          20|          14|           0|           0|           0|
|         pop|          67|          43|           0|           3|           0|
|         pop|          67|          43|           0|           2|           0|
|         pop|          67|          43|           0|           1|           0|
|        call|          36|          24|          10|           0|           0|
|        push|          66|          42|           0|           1|           0|
|         out|           1|           1|           0|           0|           0|
